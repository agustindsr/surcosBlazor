#pragma checksum "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "67f428649296ebec656d660faeda18899ddd31c0"
// <auto-generated/>
#pragma warning disable 1591
namespace SurcosBlazor.Client.Pages.BackOffice.Configuracion.ListaDePreciosC
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#line 1 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#line 2 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#line 3 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#line 4 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#line 5 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#line 6 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using SurcosBlazor.Client;

#line default
#line hidden
#line 7 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using SurcosBlazor.Client.Shared;

#line default
#line hidden
#line 9 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#line 10 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using SurcosBlazor.Client.Helpers;

#line default
#line hidden
#line 11 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using SurcosBlazor.Shared.Entidades;

#line default
#line hidden
#line 12 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using SurcosBlazor.Shared;

#line default
#line hidden
#line 13 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using SurcosBlazor.Client.Repositorio;

#line default
#line hidden
#line 14 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#line 15 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Blazored.Toast;

#line default
#line hidden
#line 16 "C:\Users\agust\source\repos\SurcosBlazor\Client\_Imports.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#line 4 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
           [Authorize(Roles = "Admin, Configuracion")]

#line default
#line hidden
    [Microsoft.AspNetCore.Components.LayoutAttribute(typeof(BackOfficeLayout))]
    [Microsoft.AspNetCore.Components.RouteAttribute("/BackOffice/Configuraciones/ListaPrecios/{Id:int}")]
    public partial class ListaPreciosForm : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#line 9 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
 if (cargando)
{

#line default
#line hidden
            __builder.OpenComponent<SurcosBlazor.Client.Shared.Loading>(0);
            __builder.CloseComponent();
#line 10 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                    }

#line default
#line hidden
            __builder.AddMarkupContent(1, "\r\n");
            __builder.OpenElement(2, "nav");
            __builder.AddAttribute(3, "aria-label", "breadcrumb");
            __builder.AddMarkupContent(4, "\r\n    ");
            __builder.OpenElement(5, "ol");
            __builder.AddAttribute(6, "class", "breadcrumb");
            __builder.AddMarkupContent(7, "\r\n        ");
            __builder.OpenElement(8, "li");
            __builder.AddAttribute(9, "class", "breadcrumb-item");
            __builder.AddAttribute(10, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 14 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                () => uri.NavigateTo("/BackOffice/Configuraciones")

#line default
#line hidden
            ));
            __builder.AddContent(11, "Configuraciones");
            __builder.CloseElement();
            __builder.AddMarkupContent(12, "\r\n        ");
            __builder.OpenElement(13, "li");
            __builder.AddAttribute(14, "class", "breadcrumb-item");
            __builder.AddAttribute(15, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 15 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                 () => uri.NavigateTo("/BackOffice/Configuraciones/ListaListaPrecios")

#line default
#line hidden
            ));
            __builder.AddContent(16, "Listado Listas Precios");
            __builder.CloseElement();
            __builder.AddMarkupContent(17, "\r\n\r\n        ");
            __builder.OpenElement(18, "li");
            __builder.AddAttribute(19, "class", "breadcrumb-item active");
            __builder.AddAttribute(20, "aria-current", "page");
            __builder.AddAttribute(21, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 17 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                           () => uri.NavigateTo($"/BackOffice/Configuraciones/ListaPrecios/{Id}")

#line default
#line hidden
            ));
            __builder.AddContent(22, 
#line 17 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                                      Id == 0? "Crear" : "Editar"

#line default
#line hidden
            );
            __builder.AddContent(23, " Lista Precios");
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(26, "\r\n");
            __builder.OpenElement(27, "div");
            __builder.AddAttribute(28, "class", "col-md-12 mx-0 px-0");
            __builder.AddMarkupContent(29, "\r\n\r\n\r\n    ");
            __builder.OpenElement(30, "div");
            __builder.OpenElement(31, "h2");
            __builder.AddContent(32, 
#line 23 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
               Id == 0? "CREAR" : "EDITAR"

#line default
#line hidden
            );
            __builder.AddContent(33, " LISTA DE PRECIOS");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n\r\n");
#line 25 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
     if (ListaPrecios != null)
    {

#line default
#line hidden
            __builder.AddContent(35, "        ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(36);
            __builder.AddAttribute(37, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#line 27 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                         ListaPrecios

#line default
#line hidden
            ));
            __builder.AddAttribute(38, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#line 27 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                        async() =>{cargando = true; await Confirmar(); }

#line default
#line hidden
            )));
            __builder.AddAttribute(39, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(40, "\r\n            ");
                __builder2.OpenElement(41, "div");
                __builder2.AddAttribute(42, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(43, "\r\n                ");
                __builder2.OpenElement(44, "div");
                __builder2.AddAttribute(45, "class", "col-md-6 my-4");
                __builder2.AddMarkupContent(46, "\r\n                    ");
                __builder2.AddMarkupContent(47, "<strong>Tipo de Lista de Precios:</strong>\r\n                    ");
                __builder2.OpenComponent<SurcosBlazor.Client.Shared.SelectGenerico<TipoListaPrecio>>(48);
                __builder2.AddAttribute(49, "TItemActual", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<TipoListaPrecio>(
#line 31 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                ListaPrecios.TipoListaPrecio

#line default
#line hidden
                ));
                __builder2.AddAttribute(50, "TList", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.List<TipoListaPrecio>>(
#line 32 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                           tiposListaDePrecios

#line default
#line hidden
                ));
                __builder2.AddAttribute(51, "SelectItem", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<TipoListaPrecio>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<TipoListaPrecio>(this, 
#line 34 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                  (TipoListaPrecio tipo)=> { ListaPrecios.TipoListaPrecio = tipo; ListaPrecios.TipoListaPrecioId = tipo.Id; }

#line default
#line hidden
                )));
                __builder2.AddAttribute(52, "TTemplate", (Microsoft.AspNetCore.Components.RenderFragment<TipoListaPrecio>)((tipo) => (__builder3) => {
                    __builder3.AddMarkupContent(53, "\r\n                            ");
                    __builder3.AddContent(54, 
#line 36 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                             tipo.nombre

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(55, "\r\n                        ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(56, "\r\n");
#line 39 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                     if (Id != 0)
                    {


#line default
#line hidden
                __builder2.AddContent(57, "                        ");
                __builder2.AddMarkupContent(58, "<div class=\"mt-3\">\r\n\r\n                        </div>\r\n                        ");
                __builder2.OpenElement(59, "div");
                __builder2.AddAttribute(60, "class", "mt-3");
                __builder2.AddMarkupContent(61, "<strong>Fecha creación:</strong> ");
                __builder2.AddContent(62, 
#line 45 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                            ListaPrecios.fecha.ToString("dddd, dd MMMM yyyy HH:mm:ss")

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(63, "\r\n                        ");
                __builder2.OpenElement(64, "div");
                __builder2.AddAttribute(65, "class", "mt-3");
                __builder2.AddMarkupContent(66, "<strong>Estado:</strong> ");
                __builder2.AddContent(67, 
#line 46 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                     ListaPrecios.vigente ?"VIGENTE" : "OBSOLETA"

#line default
#line hidden
                );
                __builder2.AddContent(68, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(69, "\r\n");
#line 47 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"

                    }

#line default
#line hidden
                __builder2.AddMarkupContent(70, "                   \r\n                    ");
                __builder2.OpenElement(71, "div");
                __builder2.AddAttribute(72, "class", "col-md-12 px-0 mt-3");
                __builder2.AddMarkupContent(73, "\r\n");
#line 51 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                         if (ListaPrecios.TipoListaPrecio != null)
                        {

#line default
#line hidden
                __builder2.AddContent(74, "                            ");
                __builder2.AddMarkupContent(75, "<strong>Mínimo de compra:</strong> ");
                __builder2.OpenElement(76, "span");
                __builder2.AddContent(77, "$ ");
                __builder2.AddContent(78, 
#line 53 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                        ListaPrecios.TipoListaPrecio?.minimoDeCompra

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(79, "\r\n");
#line 54 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                        }

#line default
#line hidden
                __builder2.AddContent(80, "                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(81, "\r\n                    ");
                __builder2.OpenElement(82, "div");
                __builder2.AddAttribute(83, "class", "col-md-12 px-0 mt-2");
                __builder2.AddMarkupContent(84, "\r\n                        ");
                __builder2.AddMarkupContent(85, "<label class=\"col-md-12 mx-0 px-0\"><strong>Clasificación</strong></label>\r\n                        ");
                __builder2.OpenElement(86, "input");
                __builder2.AddAttribute(87, "class", "form-control");
                __builder2.AddAttribute(88, "type", "number");
                __builder2.AddAttribute(89, "min", "0");
                __builder2.AddAttribute(90, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 58 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                 ListaPrecios.clasificacion

#line default
#line hidden
                , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.AddAttribute(91, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ListaPrecios.clasificacion = __value, ListaPrecios.clasificacion, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(92, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(93, "\r\n                    ");
                __builder2.OpenElement(94, "div");
                __builder2.AddAttribute(95, "class", "col-md-12 px-0 mt-3");
                __builder2.AddMarkupContent(96, "\r\n\r\n                        ");
                __builder2.AddMarkupContent(97, "<strong>Cantidad de productos:</strong> ");
                __builder2.OpenElement(98, "span");
                __builder2.AddContent(99, 
#line 62 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                       ListaPrecios.DetalleListaPrecios.Count()

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(100, "\r\n\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(101, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(102, "\r\n                ");
                __builder2.AddMarkupContent(103, "<div class=\"col-md-4 offset-md-2\">\r\n                    <img src=\"img/LOGO 2019.png\" style=\"width:200px\">\r\n                </div>\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(104, "\r\n            ");
                __Blazor.SurcosBlazor.Client.Pages.BackOffice.Configuracion.ListaDePreciosC.ListaPreciosForm.TypeInference.CreateListadoGenerico_0(__builder2, 105, 106, 
#line 70 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                      categorias

#line default
#line hidden
                , 107, (__builder3) => {
                    __builder3.AddMarkupContent(108, "\r\n                    ");
                    __builder3.OpenElement(109, "div");
                    __builder3.AddAttribute(110, "class", "col-md-12 d-flex justify-content-end");
                    __builder3.AddMarkupContent(111, "\r\n                        ");
                    __builder3.OpenElement(112, "div");
                    __builder3.AddAttribute(113, "class", "btn btn-outline-info mr-2");
                    __builder3.AddAttribute(114, "style", "cursor:pointer");
                    __builder3.AddAttribute(115, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 73 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                  async() => { cargando = true; await ActualizarTodosLosCostos(); }

#line default
#line hidden
                    ));
                    __builder3.AddMarkupContent(116, "<i class=\"fas fa-redo-alt text-info mr-1\"></i> Actualizar todos los costos");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(117, "\r\n                        ");
                    __builder3.OpenElement(118, "div");
                    __builder3.AddAttribute(119, "class", "btn btn-outline-success");
                    __builder3.AddAttribute(120, "style", "cursor:pointer");
                    __builder3.AddAttribute(121, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 74 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                async() => { await ToggleModal("listadoListas");await ListarListas(); }

#line default
#line hidden
                    ));
                    __builder3.AddMarkupContent(122, "<i class=\"far fa-copy mr-1\"></i>Clonar Lista");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(123, "\r\n\r\n                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(124, "\r\n");
#line 77 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                     foreach (CategoriaProducto categoria in categorias)
                    {

#line default
#line hidden
                    __builder3.AddContent(125, "                        ");
                    __builder3.OpenElement(126, "div");
                    __builder3.AddAttribute(127, "class", "my-4");
                    __builder3.AddMarkupContent(128, "\r\n                            ");
                    __builder3.OpenElement(129, "div");
                    __builder3.AddAttribute(130, "class", "mb-2 py-2 px-4 text-white font-weight-bold rounded");
                    __builder3.AddAttribute(131, "style", "background:linear-gradient(90deg, #E88525, rgba(230,230,230,.8) 50%)");
                    __builder3.AddMarkupContent(132, "\r\n                                ");
                    __builder3.OpenElement(133, "h2");
                    __builder3.AddAttribute(134, "class", "my-0 py-0 px-4 mx-4");
                    __builder3.AddContent(135, 
#line 81 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                 categoria?.nombre.ToUpper()

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(136, "\r\n                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(137, "\r\n                            ");
                    __builder3.OpenElement(138, "div");
                    __builder3.AddAttribute(139, "class", "px-0");
                    __builder3.AddMarkupContent(140, "\r\n                              \r\n");
#line 85 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                 foreach (Producto producto in productos.Where(x => x.CategoriaProductoId == categoria.Id).ToList())
                                {


#line default
#line hidden
                    __builder3.AddContent(141, "                                    ");
                    __builder3.OpenElement(142, "div");
                    __builder3.AddAttribute(143, "class", "col-md-12 row mx-0 px-0 border my-1");
                    __builder3.AddMarkupContent(144, "\r\n                                        ");
                    __builder3.OpenElement(145, "div");
                    __builder3.AddAttribute(146, "class", "col-md-2 mx-0 px-auto bg-white");
                    __builder3.AddMarkupContent(147, "\r\n                                            ");
                    __builder3.OpenElement(148, "div");
                    __builder3.AddAttribute(149, "class", "col-md-12 px-0 mx-0 my-2 text-center");
                    __builder3.OpenElement(150, "strong");
                    __builder3.AddContent(151, 
#line 90 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                       producto.nombre?.ToUpper()

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(152, "\r\n                                            ");
                    __builder3.OpenElement(153, "img");
                    __builder3.AddAttribute(154, "src", 
#line 91 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                       producto.Foto

#line default
#line hidden
                    );
                    __builder3.AddAttribute(155, "style", "width:150px; height:150px");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(156, "\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(157, "\r\n                                        ");
                    __builder3.OpenElement(158, "div");
                    __builder3.AddAttribute(159, "class", "col-md-10 px-0 mx-0");
                    __builder3.AddMarkupContent(160, "\r\n                                            ");
                    __builder3.AddMarkupContent(161, @"<div class=""col-md-12 row mx-0 bg-dark text-white font-weight-bold"">
                                                <div class=""col-md-2 mx-0 px-0 text-center"">Producto</div>
                                                <div class=""col-md-2 mx-0 px-0  text-center"">Costo</div>

                                                <div class=""col-md-2 mx-0 px-0  text-center""> MarkUp</div>
                                                <div class=""col-md-2 mx-0 px-0  text-center""> Descuento</div>
                                                <div class=""col-md-2 mx-0 px-0  text-center"">Precio Venta</div>
                                                <div class=""col-md-1 mx-0 px-0  text-center""> Margen</div>

                                                <div class=""col-md-1 mx-0 px-0  text-center"">Selec</div>

                                            </div>
");
#line 106 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                             foreach (ProductoPresentacion productoPresentacion in productoPresentaciones.Where(x => x.ProductoId == producto.Id).ToList())
                                            {
                                                bool estaEnLaLista = ListaPrecios.DetalleListaPrecios.Where(x => x.ProductoPresentacionId == productoPresentacion.Id).Count() > 0 ? true : false;

#line default
#line hidden
                    __builder3.AddContent(162, "                                                ");
                    __builder3.OpenElement(163, "div");
                    __builder3.AddAttribute(164, "class", "col-md-12" + " row" + " mx-0" + " px-0" + " py-1" + " border-bottom" + " " + (
#line 109 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                         !estaEnLaLista ? "bg-light text-dark" :""

#line default
#line hidden
                    ));
                    __builder3.AddMarkupContent(165, "\r\n                                                    ");
                    __builder3.OpenElement(166, "div");
                    __builder3.AddAttribute(167, "class", "col-md-2 mx-0 px-0 my-auto");
                    __builder3.OpenElement(168, "h4");
                    __builder3.AddAttribute(169, "class", "text-center m-0");
                    __builder3.OpenElement(170, "strong");
                    __builder3.AddContent(171, 
#line 110 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                 productoPresentacion.PresentacionProducto.nombre

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(172, "\r\n");
#line 111 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                     if (estaEnLaLista)
                                                    {
                                                        DetalleListaPrecios detalle = ListaPrecios.DetalleListaPrecios.FirstOrDefault(x => x.ProductoPresentacionId == productoPresentacion.Id);

#line default
#line hidden
                    __builder3.AddContent(173, "                                                        ");
                    __builder3.OpenElement(174, "div");
                    __builder3.AddAttribute(175, "class", "col-md-2 p-1 ");
                    __builder3.AddMarkupContent(176, "\r\n                                                            ");
                    __builder3.OpenElement(177, "h4");
                    __builder3.AddAttribute(178, "class", "text-center m-0");
                    __builder3.AddContent(179, "$ ");
                    __builder3.OpenElement(180, "strong");
                    __builder3.AddContent(181, 
#line 115 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                   Math.Round(detalle.precioCosto, 2)

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddContent(182, " ");
                    __builder3.OpenElement(183, "i");
                    __builder3.AddAttribute(184, "class", "fas fa-redo-alt text-info");
                    __builder3.AddAttribute(185, "style", "cursor:pointer");
                    __builder3.AddAttribute(186, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 115 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                                                                                                       async () => { detalle.precioCosto = await BuscarCosto(productoPresentacion); calcularTotal(detalle, "rentabilidad"); this.StateHasChanged(); }

#line default
#line hidden
                    ));
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(187, "\r\n                                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(188, "\r\n                                                        ");
                    __builder3.OpenElement(189, "div");
                    __builder3.AddAttribute(190, "class", "col-md-2 px-1 text-center");
                    __builder3.AddMarkupContent(191, "\r\n                                                            ");
                    __builder3.OpenElement(192, "div");
                    __builder3.AddAttribute(193, "class", "input-group input-group-sm mb-1");
                    __builder3.AddMarkupContent(194, "\r\n                                                                ");
                    __builder3.OpenElement(195, "input");
                    __builder3.AddAttribute(196, "class", "form-control");
                    __builder3.AddAttribute(197, "type", "number");
                    __builder3.AddAttribute(198, "step", "0.01");
                    __builder3.AddAttribute(199, "onkeyup", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#line 119 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                                                                              (()=>calcularTotal(detalle, "rentabilidad"))

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(200, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 119 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                              detalle.porcentajeRentabilidad

#line default
#line hidden
                    , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.AddAttribute(201, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => detalle.porcentajeRentabilidad = __value, detalle.porcentajeRentabilidad, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(202, "\r\n\r\n                                                                ");
                    __builder3.AddMarkupContent(203, @"<div class=""input-group-append"">
                                                                    <span class=""input-group-text"" id=""inputGroup-sizing-sm"">%</span>
                                                                </div>
                                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(204, "\r\n                                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(205, "\r\n                                                        ");
                    __builder3.OpenElement(206, "div");
                    __builder3.AddAttribute(207, "class", "col-md-2 px-1 text-center");
                    __builder3.AddMarkupContent(208, "\r\n                                                            ");
                    __builder3.OpenElement(209, "div");
                    __builder3.AddAttribute(210, "class", "input-group input-group-sm mb-1");
                    __builder3.AddMarkupContent(211, "\r\n                                                                ");
                    __builder3.OpenElement(212, "input");
                    __builder3.AddAttribute(213, "class", "form-control");
                    __builder3.AddAttribute(214, "type", "number");
                    __builder3.AddAttribute(215, "step", "0.01");
                    __builder3.AddAttribute(216, "onkeyup", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#line 128 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                                                                           (()=>calcularTotal(detalle, "descuento"))

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(217, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 128 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                              detalle.porcentajeDescuento

#line default
#line hidden
                    , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.AddAttribute(218, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => detalle.porcentajeDescuento = __value, detalle.porcentajeDescuento, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(219, "\r\n\r\n                                                                ");
                    __builder3.AddMarkupContent(220, @"<div class=""input-group-append"">
                                                                    <span class=""input-group-text"" id=""inputGroup-sizing-sm"">%</span>
                                                                </div>
                                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(221, "\r\n                                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(222, "\r\n                                                        ");
                    __builder3.OpenElement(223, "div");
                    __builder3.AddAttribute(224, "class", "col-md-2 px-1 text-center");
                    __builder3.AddMarkupContent(225, "\r\n                                                            ");
                    __builder3.OpenElement(226, "div");
                    __builder3.AddAttribute(227, "class", "input-group input-group-sm mb-1");
                    __builder3.AddMarkupContent(228, "\r\n                                                                ");
                    __builder3.AddMarkupContent(229, @"<div class=""input-group-prepend"">
                                                                    <span class=""input-group-text"" id=""inputGroup-sizing-sm"">$</span>
                                                                </div>
                                                                ");
                    __builder3.OpenElement(230, "input");
                    __builder3.AddAttribute(231, "class", "form-control");
                    __builder3.AddAttribute(232, "type", "number");
                    __builder3.AddAttribute(233, "step", "0.01");
                    __builder3.AddAttribute(234, "min", "0.01");
                    __builder3.AddAttribute(235, "onkeyup", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#line 140 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                                                                                      (()=>calcularTotal(detalle, "precioFinal"))

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(236, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 140 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                         detalle.precioUnitarioFinal

#line default
#line hidden
                    , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.AddAttribute(237, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => detalle.precioUnitarioFinal = __value, detalle.precioUnitarioFinal, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                    __builder3.SetUpdatesAttributeName("value");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(238, "\r\n                                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(239, "\r\n                                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(240, "\r\n                                                        ");
                    __builder3.OpenElement(241, "div");
                    __builder3.AddAttribute(242, "class", "col-md-1 px-1 text-center");
                    __builder3.AddMarkupContent(243, "\r\n                                                            ");
                    __builder3.OpenElement(244, "strong");
                    __builder3.AddMarkupContent(245, "\r\n                                                                ");
                    __builder3.AddContent(246, 
#line 145 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                  detalle.precioUnitarioFinal != 0.00M ? ((1 - (detalle.precioCosto / detalle.precioUnitarioFinal)) * 100).ToString("0.##") : "0.00"

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(247, "%\r\n                                                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(248, "\r\n\r\n\r\n                                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(249, "\r\n");
#line 150 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                    }
                                                    else
                                                    {

#line default
#line hidden
                    __builder3.AddMarkupContent(250, "                                                        <div class=\"col-md-9\"></div>\r\n");
#line 154 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                    }

#line default
#line hidden
                    __builder3.AddContent(251, "                                                    ");
                    __builder3.OpenElement(252, "div");
                    __builder3.AddAttribute(253, "class", "col-md-1 p-1 text-center");
                    __builder3.AddMarkupContent(254, "\r\n                                                        ");
                    __builder3.OpenElement(255, "input");
                    __builder3.AddAttribute(256, "class", "");
                    __builder3.AddAttribute(257, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 157 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                    ()=>ToggleProducto(productoPresentacion)

#line default
#line hidden
                    ));
                    __builder3.AddAttribute(258, "type", "checkbox");
                    __builder3.AddAttribute(259, "checked", 
#line 157 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                                                                          estaEnLaLista

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(260, "\r\n                                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(261, "\r\n                                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(262, "\r\n");
#line 160 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"

                                            }

#line default
#line hidden
                    __builder3.AddContent(263, "                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(264, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(265, "\r\n");
#line 164 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                }

#line default
#line hidden
                    __builder3.AddMarkupContent(266, "\r\n                            ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(267, "\r\n\r\n                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(268, "\r\n");
#line 169 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"

                    }

#line default
#line hidden
                    __builder3.AddContent(269, "                    ");
                    __builder3.OpenElement(270, "button");
                    __builder3.AddAttribute(271, "class", "btn-outline-olive btn-block my-4");
                    __builder3.AddAttribute(272, "type", "submit");
                    __builder3.AddContent(273, 
#line 171 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                     Id == 0? "CREAR" : "EDITAR"

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(274, "\r\n                ");
                }
                );
                __builder2.AddMarkupContent(275, "\r\n        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(276, "\r\n");
#line 175 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
    }else{

#line default
#line hidden
            __builder.AddContent(277, "      ");
            __builder.AddMarkupContent(278, "<div class=\"col-md-12 mx-0 px-0\">\r\n          <strong>Cargando...</strong>\r\n      </div>\r\n");
#line 179 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
    }

#line default
#line hidden
            __builder.CloseElement();
            __builder.AddMarkupContent(279, "\r\n");
            __builder.OpenElement(280, "div");
            __builder.AddAttribute(281, "class", "modal");
            __builder.AddAttribute(282, "id", "listadoListas");
            __builder.AddAttribute(283, "tabindex", "-1");
            __builder.AddAttribute(284, "role", "dialog");
            __builder.AddMarkupContent(285, "\r\n    ");
            __builder.OpenElement(286, "div");
            __builder.AddAttribute(287, "class", "modal-dialog modal-xl ");
            __builder.AddAttribute(288, "role", "document");
            __builder.AddMarkupContent(289, "\r\n        ");
            __builder.OpenElement(290, "div");
            __builder.AddAttribute(291, "class", "modal-content");
            __builder.AddMarkupContent(292, "\r\n\r\n            ");
            __builder.OpenElement(293, "div");
            __builder.AddAttribute(294, "class", "modal-body m-0 p-1");
            __builder.AddMarkupContent(295, "\r\n                ");
            __Blazor.SurcosBlazor.Client.Pages.BackOffice.Configuracion.ListaDePreciosC.ListaPreciosForm.TypeInference.CreateListadoGenerico_1(__builder, 296, 297, 
#line 186 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                          listas

#line default
#line hidden
            , 298, (__builder2) => {
                __builder2.AddMarkupContent(299, "\r\n                        ");
                __builder2.OpenElement(300, "table");
                __builder2.AddAttribute(301, "class", "table table-sm");
                __builder2.AddMarkupContent(302, "\r\n                            ");
                __builder2.AddMarkupContent(303, @"<thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Tipo</th>
                                    <th>Mínimo de compra</th>
                                    <th>Clasificación</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            ");
                __builder2.OpenElement(304, "tbody");
                __builder2.AddMarkupContent(305, "\r\n");
#line 201 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                 foreach (ListaPrecios lista in listas)
                                {

#line default
#line hidden
                __builder2.AddContent(306, "                                    ");
                __builder2.OpenElement(307, "tr");
                __builder2.AddMarkupContent(308, "\r\n                                        ");
                __builder2.OpenElement(309, "td");
                __builder2.AddContent(310, 
#line 204 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                             lista.fecha

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(311, "\r\n                                        ");
                __builder2.OpenElement(312, "td");
                __builder2.AddContent(313, 
#line 205 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                             lista.TipoListaPrecio?.nombre

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(314, "\r\n                                        ");
                __builder2.OpenElement(315, "td");
                __builder2.AddContent(316, 
#line 206 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                             lista.TipoListaPrecio?.minimoDeCompra

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(317, "\r\n                                        ");
                __builder2.OpenElement(318, "td");
                __builder2.AddContent(319, 
#line 207 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                             lista.clasificacion

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(320, "\r\n                                        ");
                __builder2.OpenElement(321, "td");
                __builder2.AddMarkupContent(322, "\r\n                                       \r\n                                            ");
                __builder2.OpenElement(323, "button");
                __builder2.AddAttribute(324, "class", "btn btn-sm p-1");
                __builder2.AddAttribute(325, "title", "CLONAR");
                __builder2.AddAttribute(326, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 210 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                                                                                      async()=> { cargando = true;await ToggleModal("listadoListas");  await ClonarLista(lista.Id); }

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(327, "\r\n                                                <i class=\"far fa-copy\"></i> CLONAR\r\n                                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(328, "\r\n                                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(329, "\r\n                                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(330, "\r\n");
#line 215 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                                }

#line default
#line hidden
                __builder2.AddContent(331, "                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(332, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(333, "\r\n\r\n                    ");
            }
            );
            __builder.AddMarkupContent(334, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(335, "\r\n\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(336, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(337, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#line 227 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
       
    [Parameter] public int Id { get; set; }
    public ListaPrecios ListaPrecios { get; set; }
    [Parameter] public EventCallback callback { get; set; }
    public List<ProductoPresentacion> productoPresentaciones { get; set; }
    public List<CategoriaProducto> categorias { get; set; }
    public List<Producto> productos { get; set; }
    public List<TipoListaPrecio> tiposListaDePrecios { get; set; }
    public bool cargando { get; set; } = false;
    public List<ListaPrecios> listas { get; set; }

    protected override async Task OnInitializedAsync()
    {
        if (Id == 0)
        {
            ListaPrecios = new ListaPrecios();
        }
        else {
            ListaPrecios = await http.GetJsonAsync<ListaPrecios>($"api/ListaPrecios/{Id}");

        }

        await ListarTiposListaDePrecios();

        await ListarProductosPresentacion();
        productos = productoPresentaciones.Select(x => x.Producto).Distinct().ToList();
        categorias = productos.Select(x => x.CategoriaProducto).Distinct().ToList();


    }
    public async Task ListarProductosPresentacion()
    {
        productoPresentaciones = await http.GetJsonAsync<List<ProductoPresentacion>>("api/ProductoPresentacion/ListaPrecios");

    }

    public async Task ListarListas()
    {
        listas = await http.GetJsonAsync<List<ListaPrecios>>("api/ListaPrecios");
    }
    public async Task ToggleProducto(ProductoPresentacion producto)
    {

        decimal costoFormulado = 0.00M;
        if (ListaPrecios.DetalleListaPrecios.Where(x => x.ProductoPresentacionId == producto.Id).Count() == 0)
        {

            if (producto.esFormulado)
            {
                

#line default
#line hidden
#line 276 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                 if (producto.FormulaProducto != null)
                {
                    costoFormulado = await http.GetJsonAsync<decimal>($"api/FormulaProducto/CostoFormula?FormulaId={producto.FormulaProducto.Id}");
                }

#line default
#line hidden
#line 279 "C:\Users\agust\source\repos\SurcosBlazor\Client\Pages\BackOffice\Configuracion\ListaDePreciosC\ListaPreciosForm.razor"
                 

            }


            ListaPrecios.DetalleListaPrecios.Add(new DetalleListaPrecios
            {
                ProductoPresentacionId = producto.Id,
                precioCosto = producto.esFormulado ? costoFormulado : producto.costo
            });
        }

        else
        {

            ListaPrecios.DetalleListaPrecios.Remove(ListaPrecios.DetalleListaPrecios.FirstOrDefault(x => x.ProductoPresentacionId == producto.Id));
        }
        this.StateHasChanged();
    }
    public async Task<decimal> BuscarCosto(ProductoPresentacion producto){
        if (producto.esFormulado && producto.FormulaProducto != null)
        {

            return await http.GetJsonAsync<decimal>($"api/FormulaProducto/CostoFormula?FormulaId={producto.FormulaProducto?.Id}");

        }
        else {
            return producto.costo;
        }

    }
    public async Task ActualizarTodosLosCostos() {

        foreach (DetalleListaPrecios detalle in ListaPrecios.DetalleListaPrecios) {

            detalle.precioCosto = await BuscarCosto(productoPresentaciones.Find(x => x.Id == detalle.ProductoPresentacionId));
            calcularTotal(detalle, "rentabilidad"); this.StateHasChanged();
        }
        cargando = false;
    }
    public async Task ListarTiposListaDePrecios()
    {
        tiposListaDePrecios = await http.GetJsonAsync<List<TipoListaPrecio>>("api/TipoListaPrecio/DisponiblesParaCrearListaPrecios");
    }

    public void calcularTotal(DetalleListaPrecios detalle, string quienfue)
    {

        if (quienfue == "rentabilidad")
        {
            detalle.precioUnitarioFinal = Math.Round((detalle.precioCosto * (1 + detalle.porcentajeRentabilidad / 100)) * (1 - detalle.porcentajeDescuento / 100), 2);
        }
        if (quienfue == "precioFinal")
        {
            detalle.porcentajeRentabilidad = Math.Round(((detalle.precioUnitarioFinal / ((1 - detalle.porcentajeDescuento / 100) * detalle.precioCosto)) - 1) * 100, 2);
        }
        if (quienfue == "descuento")
        {
            detalle.precioUnitarioFinal = Math.Round((detalle.precioCosto * (1 + detalle.porcentajeRentabilidad / 100)) * (1 - detalle.porcentajeDescuento / 100), 2);
        }
    }

    public async Task Confirmar()
    {
        try
        {
            if (Id == 0)
            {
                ListaPrecios.TipoListaPrecio = null;
                ListaPrecios.DetalleListaPrecios.ForEach((x) => { x.ProductoPresentacion = null; });
                await http.PostJsonAsync("api/ListaPrecios", ListaPrecios);
                cargando = false;
                toastService.ShowSuccess($"Se creó correctamente la Lista de Precio");
                uri.NavigateTo("/BackOffice/Configuraciones/ListaListaPrecios");

            }
            else
            {
                await http.PutJsonAsync($"api/ListaPrecios/{ListaPrecios.Id}", ListaPrecios);
                cargando = false;

                toastService.ShowSuccess($"Se editó correctamente la Lista de Precio ");
                uri.NavigateTo("/BackOffice/Configuraciones/ListaListaPrecios");
            }
        }
        catch (Exception ex)
        {
            cargando = false;

            toastService.ShowError($"Ocurrió un error:  {ex.Message}");

        }


        await CloseAllModals();

        await callback.InvokeAsync(new Object());

    }
    public async Task CloseAllModals()
    {

        await js.InvokeAsync<object>("CloseAllModals");
    }
    public async Task ClonarLista(int Id) {

        ListaPrecios listaAClonar = await http.GetJsonAsync<ListaPrecios>($"api/ListaPrecios/{Id}");
        ListaPrecios.DetalleListaPrecios = new List<DetalleListaPrecios>();
        listaAClonar.DetalleListaPrecios.ForEach(x => { x.Id = 0; ListaPrecios.DetalleListaPrecios.Add(x); });
        cargando = false;
    }


    public async Task ToggleModal(string id)
    {
        await js.InvokeAsync<object>("ModalToggle", id);
    }

#line default
#line hidden
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime js { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager uri { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IToastService toastService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient http { get; set; }
    }
}
namespace __Blazor.SurcosBlazor.Client.Pages.BackOffice.Configuracion.ListaDePreciosC.ListaPreciosForm
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateListadoGenerico_0<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.List<T> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::SurcosBlazor.Client.Shared.ListadoGenerico<T>>(seq);
        __builder.AddAttribute(__seq0, "listado", __arg0);
        __builder.AddAttribute(__seq1, "HayRegistros", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateListadoGenerico_1<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.List<T> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::SurcosBlazor.Client.Shared.ListadoGenerico<T>>(seq);
        __builder.AddAttribute(__seq0, "listado", __arg0);
        __builder.AddAttribute(__seq1, "HayRegistros", __arg1);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
